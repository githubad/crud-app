(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(93)},90:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(44),c=a.n(o),s=a(5),i=a(3),l=a(95),p=a(97),u=a(96),m=a(28),d=a(47),h=a(21),b=a.n(h),f="FETCH_POSTS",v="https://reduxblog.herokuapp.com/api/",E="?key=adnan123ede",y="CREATE_POST",O="FETCH_POST",g="DELETE_POST";var j=a(20),k=a.n(j),P=a(14),w=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return k.a.mapKeys(t.payload.data,"id");case O:return Object(d.a)({},e,Object(m.a)({},t.payload.data.id,t.payload.data));case g:return k.a.omit(e,t.payload);default:return e}},form:P.b}),C=a(15),N=a(16),S=a(18),T=a(17),x=a(19),F=a(94),D=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"renderPosts",value:function(){return k.a.map(this.props.posts,function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},r.a.createElement(F.a,{to:"crud-app/posts/".concat(e.id)},e.title))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"text-xs-right"},r.a.createElement(F.a,{to:"crud-app/posts/new",className:"btn btn-primary"},"Add a Post")),r.a.createElement("h3",null,"Posts"),r.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(n.Component);var _=Object(s.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){var e="".concat(v,"/posts/").concat(E),t=b.a.get(e);return{type:f,payload:t}}})(D),B=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(N.a)(t,[{key:"renderField",value:function(e){var t=e.meta,a=t.touched,n=t.error,o="form-group ".concat(a&&n?"has-danger":"");return r.a.createElement("div",{className:o},r.a.createElement("input",Object.assign({className:"form-control ",type:"text",placeholder:e.label},e.input)),r.a.createElement("div",{className:"text-help"},a?n:""))}},{key:"onSubmit",value:function(e){var t=this;this.props.createPost(e,function(){return t.props.history.push("/crud-app")})}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",null,r.a.createElement("form",{className:"myform",onSubmit:e(this.onSubmit.bind(this))},r.a.createElement(P.a,{label:"Your Title",name:"title",component:this.renderField}),r.a.createElement(P.a,{label:"Categories",name:"categories",component:this.renderField}),r.a.createElement(P.a,{label:"Post Content",name:"content",component:this.renderField}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement(F.a,{to:"/crud-app",className:"btn btn-danger"},"Cancel")))}}]),t}(n.Component);var A=Object(P.c)({validate:function(e){var t={};return(!e.title||e.title.length<3)&&(t.title="Enter a title that is alteast 3 characters"),e.categories||(t.categories="Enter some categories"),e.content||(t.content="Enter some content please"),t},form:"PostsNewForm"})(Object(s.b)(null,{createPost:function(e,t){var a="".concat(v,"/posts/").concat(E),n=b.a.post(a,e).then(function(){return t()});return{type:y,payload:n}}})(B)),H=a(51),I=a.n(H),J=function(e){function t(){return Object(C.a)(this,t),Object(S.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.post){var e=this.props.match.params.id;this.props.fetchPost(e)}}},{key:"onDeleteClick",value:function(){var e=this;this.props.deletePost(this.props.match.params.id,function(){return e.props.history.push("/crud-app")})}},{key:"render",value:function(){var e=this.props.post;return e?r.a.createElement("div",null,r.a.createElement("h3",null,"Title:",e.title),r.a.createElement("h6",null,"Categories:",e.categories),r.a.createElement("p",null,"Content:",e.content),r.a.createElement(F.a,{to:"/crud-app"},"Back to Index"),r.a.createElement("button",{className:"btn btn-danger pull-xs-right",onClick:this.onDeleteClick.bind(this)},"Delete Post")):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component);var L=Object(s.b)(function(e,t){return{post:e.posts[t.match.params.id]}},{fetchPost:function(e){var t="".concat(v,"/posts/").concat(e).concat(E),a=b.a.get(t);return{type:O,payload:a}},deletePost:function(e,t){var a="".concat(v,"/posts/").concat(e).concat(E);return b.a.delete(a).then(function(){return t()}),{type:g,payload:e}}})(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);var M=Object(i.a)(I.a)(i.d);c.a.render(r.a.createElement(s.a,{store:M(w)},r.a.createElement(l.a,null,r.a.createElement("div",{class:"main-div"},r.a.createElement(p.a,null,r.a.createElement(u.a,{path:"/crud-app/posts/new",component:A}),r.a.createElement(u.a,{path:"/crud-app/posts/:id",component:L}),r.a.createElement(u.a,{path:"/crud-app",component:_}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,2,1]]]);
//# sourceMappingURL=main.ca5bfb80.chunk.js.map